# Лабораторная работа №1 - RPN Калькулятор

**Тема:** Разработка консольного калькулятора на Python (вариант M3)  
**Вариант:** M3 - Ввод в RPN (обратная польская нотация)  
**Студент:** Шамшетов Арыслан Жаксыбаевич  
**Группа:** М8О-106БВ-25  
**Преподаватель:** Самир Ахмед Халид

## Описание проекта

Реализация калькулятора для вычисления выражений в обратной польской нотации (RPN). 
Программа принимает выражения в формате RPN и вычисляет результат с использованием стека.

## Структура проекта
lab1-m3/ \
├── src/ # Исходный код\
│ ├── main.py # Точка входа в приложение\
│ ├── calculator.py # Основная логика калькулятора\
│ └── constants.py # Константы и сообщения\
├── tests/ # Unit-тесты\
│ └── test_calculator.py # Тесты калькулятора\
├── .gitignore # Git ignore правила\
├── .pre-commit-config.yaml # Конфигурация pre-commit\
├── uv.lock # Зависимости проекта\
└── README.md # Документация\

## Особенности реализации

- Поддержка основных арифметических операций: `+`, `-`, `*`, `/`, `//`, `%`, `**`
- Обработка целых и вещественных чисел
- Полная валидация входных данных
- Обработка ошибок (деление на ноль, некорректные токены и т.д.)
- Тесты для проверки функциональности
- Соблюдение PEP8 и кодстайла

| Оператор | Описание | Пример RPN | Результат | Примечания |
|----------|-----------|------------|-----------|------------|
| `+` | Сложение | `3 4 +` | `7` | Работает с целыми и вещественными числами |
| `-` | Вычитание | `5 3 -` | `2` | Работает с целыми и вещественными числами |
| `*` | Умножение | `2 3 *` | `6` | Работает с целыми и вещественными числами |
| `/` | Деление | `6 2 /` | `3.0` | Возвращает float, проверка деления на ноль |
| `//` | Целочисленное деление | `7 3 //` | `2` | **Только для целых чисел** |
| `%` | Остаток от деления | `7 3 %` | `1` | **Только для целых чисел** |
| `**` | Возведение в степень | `2 3 **` | `8` | Работает с целыми и вещественными числами |

### Поддерживаемые типы чисел

- **Целые числа**: `123`, `-45`, `0`
- **Вещественные числа**: `123.45`, `-67.89`, `0.5`
- **Формат**: числа с плавающей точкой должны содержать точку (разделение целой и дробной части)

## Обработка ошибок

### Типы обрабатываемых ошибок

#### 1. Синтаксические ошибки

| Ошибка | Пример | Сообщение об ошибке | Причина |
|--------|--------|---------------------|---------|
| Некорректный токен | `"abc 4 +"` | `"Некорректный токен: abc"` | Встречен токен, который не является числом или оператором |
| Недостаточно операндов | `"3 +"` или `"3 4 + +"` | `"Недостаточно операндов для оператора '+'"` | Для оператора не хватает операндов в стеке |
| Некорректное выражение | `"3 4"` | `"Некорректное выражение. В стеке осталось 2 элементов"` | После обработки всех токенов в стеке осталось не одно значение |

#### 2. Арифметические ошибки

| Ошибка | Пример | Сообщение об ошибке | Причина |
|--------|--------|---------------------|---------|
| Деление на ноль | `"5 0 /"` | `"Деление на ноль"` | Попытка деления на нуль |
| Деление на ноль (целое) | `"5 0 //"` | `"Деление на ноль"` | Попытка целочисленного деления на нуль |
| Нецелочисленные операнды | `"3.5 2 //"` | `"Требуются целочисленные операнды"` | Использование `//` или `%` с вещественными числами |

#### 3. Ошибки формата чисел

| Ошибка | Пример | Сообщение об ошибке | Причина |
|--------|--------|---------------------|---------|
| Некорректный формат числа | `"12.34.56"` | `"Некорректный токен: 12.34.56"` | Число с несколькими точками |
| Некорректный числовой формат | `"1a2"` | `"Некорректный токен: 1a2"` | Символы, не являющиеся цифрами или точкой |

## Доступные команды:
- help - показать справку
- exit - выйти из программы



# Тестирование
## Подход к тестированию
Тестирование проводится с использованием pytest и охватывает:

- Базовые операции - проверка корректности вычислений
- Обработка ошибок - проверка корректной реакции на некорректные данные
- Сложные выражения - проверка комбинированных операций
- Приоритет операций - проверка правильности вычислений в RPN

## Допущения при тестировании

- Формат чисел: поддерживаются целые числа (123) и числа с плавающей точкой (123.45)
- Разделители: токены разделяются пробелами, множественные пробелы игнорируются
- Операторы: поддерживаются только операторы из списка SUPPORTED_OPERATORS
- Целочисленные операции: операторы // и % требуют целочисленные операнды
- Ошибки: программа должна корректно обрабатывать все ошибочные сценарии

## Выполненные тестовые сценарии
### Кейсы выражений:

- Простые арифметические операции
- Комбинированные выражения
- Операции с вещественными числами
- Сложные вложенные выражения

### Кейсы ошибок:

- Недостаточно операндов для операторов
- Некорректные токены
- Деление на ноль
- Нецелочисленные операнды для '//' и '%'

Вроде всё)
